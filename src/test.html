<!doctype html>
<html>
  <head>
    <title>Deploy Contract with MetaMask</title>
    <script
      src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"
      type="application/javascript"
    ></script>
  </head>
  <body>
    <h2>Deploy Contract to Gnosis with MetaMask</h2>
    <button onclick="deploy()">Deploy Contract</button>
    <pre id="output"></pre>

    <script>
      async function deploy() {
        const output = document.getElementById("output");
        try {
          await window.ethereum.request({ method: "eth_requestAccounts" });
          const provider = new ethers.providers.Web3Provider(window.ethereum);
          const signer = provider.getSigner();

          // ðŸ”½ Replace with your full contract creation bytecode:
          const bytecode =
            "0x6a76120200000000000000000000000040a2accbd92bca938b02010e17a5b8929b49130d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000000007848d80ff0a000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000007240000000000000dc7f163742eb4abef650037b1f58800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000224f1ab873c0000000000000000000000004e35da39fa5893a70a40ce964f993d891e607cc0000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000185b9e688850000000000000000000000000000000000000000000000000000000000000184a4f9edbf000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000961f418e0b6efaa073004989ef1b2fd1bc4a41c0000000000000000000000002c142c4ebfbe2597d09f584fa35f94ba69ccd0110000000000000000000000002c142c4ebfbe2597d09f584fa35f94ba69ccd0110000000000000000000000005b7dd1e86623548af054a4985f7fc8ccbb554e2c000000000000000000000000000000000000000000000000000000000002a300000000000000000000000000000000000000000000000000000000000002a3000000000000000000000000000000000000000000000000000000000000069780000000000000000000000000000000000000000000000000016345785d8a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f72cfd1b34a91a64f9a98537fe63fbab7530adca00000000000000000000000000000000000000000000000000000000002c142c4ebfbe2597d09f584fa35f94ba69ccd01100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024610b5925000000000000000000000000e72bbfabc1d1216caf167e3f637a5e29c172b6c5000961f418e0b6efaa073004989ef1b2fd1bc4a41c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000284dc1c0342000000000000000000000000e72bbfabc1d1216caf167e3f637a5e29c172b6c50000000000000000000000005b7dd1e86623548af054a4985f7fc8ccbb554e2c00000000000000000000000000000000000000000000000000000000000000800000000000000000000000002c142c4ebfbe2597d09f584fa35f94ba69ccd01100000000000000000000000000000000000000000000000000000000000001dc7b2274797065223a22626f6f6c222c227469746c65223a224469642074686520736f6369616c207265636f76657279207265717565737420666f722050726f746f636f6c5f5820726570726573656e74656420696e204b6c65726f7320436f757274206361736520257320706173732074686520657865637574696f6e206f6620746865206172726179206f66204d6f64756c65207472616e73616374696f6e732074686174206861766520746865206861736820257320616e6420646f6573206974206d6565742074686520726571756972656d656e7473206f662074686520646f63756d656e74207265666572656e63656420696e2074686520736f6369616c207265636f766572792070726f746f636f6c20706f6c696379207265636f7264206174206b6c65726f736578706572696d656e74732e6574683f2054686520686173682061626f766520697320746865204b656363616b2d3235362068617368206f662074686520636f6e636174656e6174696f6e206f662074686520696e646976696475616c204549502d37313220686173686573206f6620746865204d6f64756c65207472616e73616374696f6e732e222c2263617465676f7279223a2244414f2070726f706f73616c222c226c616e67223a22656e227d00000000004976fb03c32e5b8cfe2b6ccb31c09ba78ebaba410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010410f13a8cfa4ecb6ccef86852a96d0e721475ff286d47ce3430704f0c580e579a8888a010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000008736e617073686f740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035697066733a2f2f516d5742436170777538657a68366b773759687435524e515a576978393638746a4155566a595270734b7a515664000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041000000000000000000000000f313d85c7fef79118fcd70498c71bf94e75fc2f600000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000";

          const tx = {
            data: bytecode,
            gasLimit: 3000000,
          };

          const txResponse = await signer.sendTransaction(tx);
          output.textContent = "Transaction sent: " + txResponse.hash;

          const receipt = await txResponse.wait();
          output.textContent += "\nDeployed at: " + receipt.contractAddress;
        } catch (err) {
          output.textContent = "Error: " + err.message;
        }
      }
    </script>
  </body>
</html>
